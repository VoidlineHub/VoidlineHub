local Fluent = loadstring(game:HttpGet("https://raw.githubusercontent.com/edu-syahruldr/FluentMax/refs/heads/main/draft/main1.lua"))()

-- [[ SERVICES ]] --
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local StatsService = game:GetService("Stats")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer

-- [[ GLOBAL VARIABLES ]] --
_G.AutoFarmEnabled = false
_G.VehicleSpeed = 280
_G.TargetEarningValue = 0
_G.TargetEnabled = false
_G.AutoRejoin = false
_G.AntiAfk = false
_G.HideNameEnabled = false
_G.HideCharEnabled = false
_G.WebhookURL = ""
_G.WebhookEnabled = false

-- Vehicle Boost Variables
_G.MaxForce = 500
_G.Increment = 50
_G.Interval = 0.5
_G.BoostEnabled = false
_G.StraightBoost = false
local lastBoostTime = 0

local targetIndex = 1
local targets = {CFrame.new(-39.24, 12.8, -575.58), CFrame.new(-16704.28, 115.08, 10064.52)}
local RunningSeconds = 0
local RPValue = Player:WaitForChild("PlayerData"):WaitForChild("RPValue")
local StartMoney = RPValue.Value

-- [[ UTILS ]] --
local function GetDevice()
    return (UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled) and "Mobile ðŸ“±" or "PC / Laptop ðŸ’»"
end

local function FormatNumber(value)
    local str = tostring(math.floor(value or 0))
    return str:reverse():gsub("(%d%d%d)", "%1."):reverse():gsub("^%.", "")
end

local function HideName(name)
    if #name <= 2 then return "**" end
    return name:sub(1, 1) .. string.rep("*", #name - 2) .. name:sub(-1)
end

-- [[ BLACK SCREEN LOGIC ]] --
local BlackScreenGui = nil
local function SetBlackScreen(state)
    if state then
        if not BlackScreenGui then
            BlackScreenGui = Instance.new("ScreenGui", Player:WaitForChild("PlayerGui"))
            BlackScreenGui.Name = "BilzzBlackScreen"
            BlackScreenGui.IgnoreGuiInset = true
            BlackScreenGui.DisplayOrder = -1 
            local Frame = Instance.new("Frame", BlackScreenGui)  
            Frame.Size = UDim2.new(1, 0, 1, 0)
            Frame.BackgroundColor3 = Color3.new(0, 0, 0)
            Frame.BorderSizePixel = 0
            local Label = Instance.new("TextLabel", Frame)  
            Label.Size = UDim2.new(1, 0, 1, 0)
            Label.BackgroundTransparency = 1  
            Label.Text = "AUTOFARM ON\nSCRIPT BY BILZZ"  
            Label.TextColor3 = Color3.new(1, 1, 1)  
            Label.Font = Enum.Font.GothamBold
            Label.TextSize = 25  
        end  
    else  
        if BlackScreenGui then BlackScreenGui:Destroy(); BlackScreenGui = nil end  
    end
end

-- [[ WEBHOOK ]] --
local function SendDiscordLog(isTest)
    if _G.WebhookURL == "" or (not _G.WebhookEnabled and not isTest) then return end
    local currentRP = RPValue.Value
    local totalEarned = currentRP - StartMoney
    local timeStr = string.format("%02d:%02d:%02d", math.floor(RunningSeconds/3600), math.floor((RunningSeconds%3600)/60), RunningSeconds%60)
    local data = {["embeds"] = {{["title"] = "ðŸï¸ Drag Drive Tracker", ["color"] = 16777215, ["fields"] = {{["name"] = "ðŸ‘¤ User", ["value"] = "```" .. HideName(Player.Name) .. "```", ["inline"] = false}, {["name"] = "ðŸ•’ Time", ["value"] = timeStr, ["inline"] = true}, {["name"] = "ðŸ’° Current", ["value"] = "RP. " .. FormatNumber(currentRP), ["inline"] = false}, {["name"] = "ðŸ’µ Earned", ["value"] = "RP. " .. FormatNumber(totalEarned), ["inline"] = false}}, ["footer"] = {["text"] = "BilzzHub âš¡"}}}}
    local requestFunc = syn and syn.request or http and http.request or http_request or request
    if requestFunc then requestFunc({Url = _G.WebhookURL, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = HttpService:JSONEncode(data)}) end
end

-- [[ WINDOW SETUP ]] --
local Window = Fluent:CreateWindow({
    Title = "Bilzz Hub",
    SubTitle = "by Bilzz",
    TabWidth = 160,
    Size = UDim2.fromOffset(550, 330),
    Acrylic = false,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Info = Window:AddTab({ Title = "Information", Icon = "info" }),
    Farming = Window:AddTab({ Title = "Farming", Icon = "truck" }),
    Stats = Window:AddTab({ Title = "Statistics", Icon = "trending-up" }),
    Vehicles = Window:AddTab({ Title = "Vehicles Setting", Icon = "car" }),
    Webhook = Window:AddTab({ Title = "Webhook", Icon = "webhook" }),
    Misc = Window:AddTab({ Title = "Misc", Icon = "package" })
}

-- [[ TAB: INFORMATION ]] --
local InfoS1 = Tabs.Info:AddSection("Script Details")
InfoS1:AddParagraph({ Title = "owner", Content = "Bilzz Hubâš¡" })
InfoS1:AddParagraph({ Title = "Script Info", Content = "ðŸŸ¢" })
InfoS1:AddParagraph({ Title = "Version", Content = "v1 latest" })

local InfoS2 = Tabs.Info:AddSection("Update Log")
InfoS2:AddParagraph({ Title = "Update Notes", Content = "add\n-vehicle settings\n-new gui" })

local InfoS3 = Tabs.Info:AddSection("Tutorial & Safety")
InfoS3:AddParagraph({ Title = "how to use Autofarm", Content = "1.sitting in a car/motorcycle.\n2. set speed 280 recommended\n3. turn on autofarm " })
InfoS3:AddParagraph({ Title = "safe speed", Content = "It is recommended to use 280 if the motorbike is standard then 270" })

local InfoS4 = Tabs.Info:AddSection("Support Media")
InfoS4:AddButton({ Title = "Discord Server", Description = "Join Discord", Callback = function() setclipboard("https://discord.gg/GMMbbTjbW") end })
InfoS4:AddButton({ Title = "TikTok Official", Description = "Folow tiktok", Callback = function() setclipboard("tiktok.com/@billzzhub") end })

-- [[ TAB: FARMING ]] --
local Farm1 = Tabs.Farming:AddSection("Main Controls")
Farm1:AddToggle("AutoFarm", { Title = "Auto Farm Surakarta", Default = false, Callback = function(v) _G.AutoFarmEnabled = v; SetBlackScreen(v) end })
Farm1:AddInput("VehSpeed", { Title = "Vehicle Speed", Default = "280", Numeric = true, Callback = function(v) _G.VehicleSpeed = tonumber(v) or 280 end })

local Farm2 = Tabs.Farming:AddSection("Target Settings")
Farm2:AddToggle("EnableTarget", { Title = "Enable Target", Default = false, Callback = function(v) _G.TargetEnabled = v end })
Farm2:AddInput("RPValue", { Title = "Set Target RP", Numeric = true, Callback = function(v) _G.TargetEarningValue = tonumber(v) or 0 end })

-- [[ TAB: STATISTICS ]] --
local Stat1 = Tabs.Stats:AddSection("Live Tracker")
local T_Label = Stat1:AddParagraph({ Title = "Target: RP. N/A", Content = "" })
local E_Label = Stat1:AddParagraph({ Title = "Earned : RP. N/A", Content = "" })
local B_Label = Stat1:AddParagraph({ Title = "Balance : RP. N/A", Content = "" })
local TimeLabel = Stat1:AddParagraph({ Title = "Time : 00:00:00", Content = "" })

local Stat2 = Tabs.Stats:AddSection("System Information")
local FPS_Label = Stat2:AddParagraph({ Title = "FPS : 0", Content = "" })
local Ping_Label = Stat2:AddParagraph({ Title = "Ping : 0 ms", Content = "" })
Stat2:AddParagraph({ Title = "Device Used :", Content = GetDevice() })
Stat2:AddParagraph({ Title = "Executor Used :", Content = (identifyexecutor and identifyexecutor() or "Unknown") })

-- [[ TAB: VEHICLE SETTING ]] --
local Veh1 = Tabs.Vehicles:AddSection("Information")
Veh1:AddParagraph({ Title = "information", Content = "MAX_BOOST_FORCE : set boost similar to top speed\n-BOOST_INCREMENT :Sets the speed increase per boost.\n- BOOST_INTERVAL : Set the time interval between automatic boosts." })

local Veh2 = Tabs.Vehicles:AddSection("Physics Setting")
Veh2:AddInput("MaxForce", { Title = "Max Force", Default = "500", Numeric = true, Callback = function(v) _G.MaxForce = tonumber(v) or 500 end })
Veh2:AddInput("Increment", { Title = "Increment", Default = "50", Numeric = true, Callback = function(v) _G.Increment = tonumber(v) or 50 end })
Veh2:AddInput("Interval", { Title = "Interval", Default = "0.5", Numeric = true, Callback = function(v) _G.Interval = tonumber(v) or 0.5 end })

local Veh3 = Tabs.Vehicles:AddSection("Boost System")
Veh3:AddToggle("BstOn", { Title = "Enable Boost", Default = false, Callback = function(v) _G.BoostEnabled = v end })
Veh3:AddToggle("StrBst", { Title = "Straight Boost", Default = false, Callback = function(v) _G.StraightBoost = v end })

-- [[ TAB: WEBHOOK ]] --
local Web1 = Tabs.Webhook:AddSection("Discord Logging")
Web1:AddInput("WebURL", { Title = "Webhook URL", Callback = function(v) _G.WebhookURL = v end })
Web1:AddToggle("WebTgl", { Title = "Enable Webhook", Callback = function(v) _G.WebhookEnabled = v end })
Web1:AddButton({ Title = "Send Test Payload", Callback = function() SendDiscordLog(true) end })

-- [[ TAB: MISC ]] --
local Misc1 = Tabs.Misc:AddSection("Character Settings")
Misc1:AddToggle("HName", { Title = "Hide Name", Callback = function(v) _G.HideNameEnabled = v end })
Misc1:AddToggle("HChar", { Title = "Hide Character", Callback = function(v) _G.HideCharEnabled = v end })

local Misc2 = Tabs.Misc:AddSection("Automation")
Misc2:AddToggle("AAfk", { Title = "Anti AFK", Callback = function(v) _G.AntiAfk = v end })
Misc2:AddToggle("ARej", { Title = "Auto Rejoin", Callback = function(v) _G.AutoRejoin = v end })

-- [[ LOGICS ]] --
Player.Idled:Connect(function() if _G.AntiAfk then game:GetService("VirtualUser"):CaptureController(); game:GetService("VirtualUser"):ClickButton2(Vector2.new()) end end)
game:GetService("CoreGui").RobloxPromptGui.promptOverlay.ChildAdded:Connect(function(child) if _G.AutoRejoin and child.Name == "ErrorPrompt" then TeleportService:Teleport(game.PlaceId, Player) end end)

RunService.Heartbeat:Connect(function()
    local char = Player.Character
    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
    local seat = humanoid and humanoid.SeatPart
    
    -- Autofarm Logic
    if _G.AutoFarmEnabled and seat then
        local motor = seat:FindFirstAncestorOfClass("Model")
        if motor and motor.PrimaryPart then
            for _, v in pairs(motor:GetDescendants()) do if v:IsA("BasePart") then v.CanCollide = false end end
            local targetPos = targets[targetIndex].Position + Vector3.new(0, 50, 0)
            motor.PrimaryPart.AssemblyLinearVelocity = (targetPos - motor.PrimaryPart.Position).Unit * _G.VehicleSpeed
            motor.PrimaryPart.CFrame = CFrame.new(motor.PrimaryPart.Position, targetPos)
            if (motor.PrimaryPart.Position - targetPos).Magnitude < 25 then targetIndex = targetIndex % #targets + 1 end
        end
    end

    -- FIXED VEHICLE BOOST LOGIC
    if _G.BoostEnabled and seat then
        local vehicle = seat:FindFirstAncestorOfClass("Model")
        if vehicle and vehicle.PrimaryPart then
            if tick() - lastBoostTime >= (_G.Interval or 0.5) then
                local currentVel = vehicle.PrimaryPart.AssemblyLinearVelocity
                
                -- Gunakan NEGATIVE LookVector karena kendaraan di game ini arah PrimaryPart-nya kebalik
                local boostDirection = -vehicle.PrimaryPart.CFrame.LookVector

                if _G.StraightBoost then
                    boostDirection = Vector3.new(boostDirection.X, 0, boostDirection.Z).Unit
                end
                
                if currentVel.Magnitude < (_G.MaxForce or 500) then
                    vehicle.PrimaryPart.AssemblyLinearVelocity = currentVel + (boostDirection * (_G.Increment or 50))
                end
                lastBoostTime = tick()
            end
        end
    end
end)

-- [[ STATS LOOP ]] --
task.spawn(function()
    while task.wait(1) do
        pcall(function()
            local currentRP = RPValue.Value
            local earned = currentRP - StartMoney
            T_Label:SetTitle("Target: RP." .. FormatNumber(_G.TargetEarningValue))
            E_Label:SetTitle("Earned : RP." .. FormatNumber(earned))
            B_Label:SetTitle("Balance : RP." .. FormatNumber(currentRP))
            
            FPS_Label:SetTitle("FPS : " .. math.floor(StatsService.Workspace.Heartbeat:GetValue()))
            local ping = tonumber(string.format("%.0f", Player:GetNetworkPing() * 1000))
            Ping_Label:SetTitle("Ping : " .. ping .. " ms")
            
            if _G.AutoFarmEnabled then RunningSeconds = RunningSeconds + 1 end
            TimeLabel:SetTitle(string.format("Time : %02d:%02d:%02d", math.floor(RunningSeconds/3600), math.floor((RunningSeconds%3600)/60), RunningSeconds%60))
        end)
    end
end)

-- [[ FLOAT BUTTON ]] --
local TgBtn = Instance.new("ScreenGui", game:GetService("CoreGui"))
local MainBtn = Instance.new("TextButton", TgBtn)
MainBtn.Size, MainBtn.Position = UDim2.new(0, 50, 0, 50), UDim2.new(0, 20, 0.5, -25)
MainBtn.BackgroundColor3, MainBtn.Text = Color3.new(0,0,0), "B"
MainBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", MainBtn).CornerRadius = UDim.new(1, 0)
MainBtn.MouseButton1Click:Connect(function() Window:Minimize() end)

Window:SelectTab(1)

